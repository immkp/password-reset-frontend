{"version":3,"sources":["components/home.js","components/user/login.js","components/user/register.js","components/user/forgot.js","components/user/update.js","components/dashboard.js","App.js","index.js"],"names":["Home","style","textAlign","to","Login","props","useState","email","setEmail","pwd","setPwd","show","setShow","res","setRes","ins","setIns","handleEvent","a","axios","post","password","then","response","data","message","instruction","setTimeout","token","history","push","pathname","state","catch","error","console","log","className","type","onChange","e","target","value","required","onClick","color","Register","user","setUser","validator","isEmail","firstname","role","status","window","location","reload","Forgot","Update","Cpwd","setCPwd","match","params","Dashboard","useEffect","auth","Auth","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c0dde597.chunk.js","sourcesContent":["import {Link} from \"react-router-dom\";\nexport default function Home(){\n    return <>\n        <div style={{textAlign:\"center\"}}>\n            <h1>Welcome to Password Reset flow</h1>\n            <Link to=\"/user/login\">Continue</Link>\n        </div>\n    </>\n}","import \"../../styles/login.css\"\nimport {Link} from \"react-router-dom\";\nimport { useState} from \"react\";\nimport axios from \"axios\";\nexport default function Login(props){\n    let [email,setEmail]=useState(\"\");\n    let [pwd,setPwd]=useState(\"\");\n    let [show,setShow]=useState(true);\n    let [res,setRes]=useState(\"\");\n    let [ins,setIns]=useState(\"\");\n    let handleEvent = async()=>{\n        setRes(\"\");\n        if(email && pwd){\n            await axios\n              .post('https://urlshortener-mern.herokuapp.com/api/users/login', {\n                email: email,\n                password: pwd,\n              })\n              .then(async (response) => {\n                await setRes(response.data.message)\n                await setIns(response.data.instruction)\n                setTimeout(() => {\n                  let url = '/dashboard'\n                  if (response.data.token) {\n                    props.history.push({\n                      pathname: url,\n                      state: {\n                        email: email,\n                        token: response.data.token,\n                      },\n                    })\n                  }\n                }, 1000)\n              })\n              .catch((error) => {\n                console.log(error)\n              })\n        }\n        else{\n            setRes(\"Fields can not be empty\")\n        }\n    }\n    return <>\n        <div className=\"login-wrapper\">\n            <h1>Log in and start sharing</h1>\n            <h4>Don't have an account? <Link to=\"/user/register\"  className=\"link\">Sign up</Link></h4>\n            <div className=\"form-wrapper\">\n                <label>Email address or username</label><br/>\n                <input type=\"email\" onChange={(e)=>setEmail(e.target.value)} required={true}></input><br/>\n                <div className=\"pass-wrapper\">\n                    <label className=\"pass\">Password </label>\n                    <button className=\"showhide\" onClick={()=>setShow(!show)}><i className=\"fas fa-eye\"></i> Show</button>\n                </div><br/>\n                <input type={show?\"password\":\"text\"} onChange={(e)=>setPwd(e.target.value)} required={true}></input><br/>\n                <Link to=\"/user/forgot-password\" className=\"link\">Forgot your password?</Link><br/>\n                <button className=\"login\" onClick={handleEvent}>Login</button>\n                <div style={{color:\"green\"}}>{res} {ins}</div>\n            </div>\n        </div>\n    </>\n}","import \"../../styles/login.css\"\nimport {Link} from \"react-router-dom\";\nimport { useState} from \"react\";\nimport axios from \"axios\";\nimport validator from 'validator';\nexport default function Register(){\n    let [user,setUser]=useState(\"\");\n    let [email,setEmail]=useState(\"\");\n    let [pwd,setPwd]=useState(\"\");\n    let [show,setShow]=useState(true);\n    let [res,setRes]=useState(\"\");\n    let [ins,setIns]=useState(\"\");\n    let handleEvent = async()=>{\n        setRes(\"\");\n        if(user && validator.isEmail(email) && pwd){\n            await axios\n              .post(\n                'https://urlshortener-mern.herokuapp.com/api/users/register',\n                {\n                  firstname: user,\n                  email: email,\n                  token: '',\n                  password: pwd,\n                  role: 'user',\n                  status: 'Not Active',\n                }\n              )\n              .then(async (response) => {\n                await setRes(response.data.message)\n                await setIns(response.data.instruction)\n                setTimeout(() => {\n                  window.location.reload()\n                }, 5000)\n              })\n              .catch((error) => {\n                console.log(error)\n              })\n        }\n        else{\n            setRes(\"Enter valid email and Fields can not be empty\")\n        }\n    }\n    return <>\n        <div className=\"login-wrapper\">\n            <h1>Sign up and start shortening</h1>\n            <h4>Already have an account? <Link to=\"/user/login\"  className=\"link\">Login</Link></h4>\n            <div className=\"form-wrapper\">\n                <label >Username</label><br/>\n                <input type=\"text\" onChange={(e)=>setUser(e.target.value)}></input><br/>\n                <label >Email address or username</label><br/>\n                <input type=\"text\" onChange={(e)=>setEmail(e.target.value)}></input><br/>\n                <div className=\"pass-wrapper\">\n                    <label  className=\"pass\">Password </label>\n                    <button className=\"showhide\" onClick={()=>setShow(!show)}><i className=\"fas fa-eye\"></i> Show</button>\n                </div><br/>\n                <input type={show?\"password\":\"text\"} onChange={(e)=>setPwd(e.target.value)}></input><br/>\n                <button className=\"login\" onClick={handleEvent}>Sign Up</button>\n            </div>\n            <div style={{color:\"green\"}}>{res} {ins}</div>\n        </div>\n    </>\n}","import \"../../styles/forgot.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nexport default function Forgot(){\n    let [email,setEmail]=useState(\"\");\n    let [res,setRes]=useState(\"\");\n    let handleEvent =async()=>{\n        await axios\n          .post(\n            'https://urlshortener-mern.herokuapp.com/api/users/reset-password',\n            {\n              email: email,\n            }\n          )\n          .then((response) => {\n            setRes(response.data.message)\n          })\n          .catch((error) => console.log(error))\n    }\n    return <>\n    <div className=\"wrapper\">\n        <div className=\"forgot-wrapper\">\n            <h3>FORGOT YOUR PASSWORD?</h3>\n            <p>Just enter the email or username you signed up with and we'll let you reset it.</p>\n            <label>Email address or username</label><br/>\n            <input type=\"text\" onChange={(e)=>setEmail(e.target.value)}></input><br/>\n            <button className=\"login\" onClick={handleEvent}>Reset</button>\n        </div>\n        <div style={{color:\"green\"}}>{res}</div>\n    </div>\n    </>\n}","import \"../../styles/forgot.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nexport default function Update(props){\n    let [pwd,setPwd]=useState(\"\");\n    let [Cpwd,setCPwd]=useState(\"\");\n    let [res,setRes]=useState(\"\");\n    let handleEvent =async()=>{\n        if(pwd===Cpwd)\n        {\n            setRes(\"\");\n            await axios\n              .post(\n                'https://urlshortener-mern.herokuapp.com/api/users/update-password',\n                {\n                  token: props.match.params.token,\n                  password: pwd,\n                }\n              )\n              .then(async (response) => {\n                await setRes(response.data.message)\n                setTimeout(() => {\n                  if (\n                    response.data.message === 'Password Updated Successfully'\n                  ) {\n                    let url = '/user/login'\n                    props.history.push(url)\n                  }\n                }, 2000)\n              })\n              .catch((error) => console.log(error))\n        }\n        else{\n            setRes(\"Password Does Not match\");\n        }\n    }\n    return <>\n    <div className=\"wrapper\">\n        <div className=\"forgot-wrapper\">\n            <h3>RESET PASSWORD?</h3>\n            <p>Password must be 6 or more characters in length and any combination of letters and numbers</p>\n            <label>New Password</label><br/>\n            <input type=\"password\" onChange={(e)=>setPwd(e.target.value)}></input><br/>\n            <label>Confirm Password</label><br/>\n            <input type=\"password\" onChange={(e)=>setCPwd(e.target.value)}></input><br/>\n            <button className=\"login\" onClick={handleEvent}>Reset</button>\n            <p style={{color:\"green\"}}>{res}</p>\n        </div>\n    </div>\n    </>\n}","import axios from \"axios\";\nimport { useState,useEffect } from \"react\";\nexport default function Dashboard(props){\n    let [email,setEmail]=useState(\"\");\n    useEffect(()=>{\n        async function Auth(){\n            if(props.location.state){\n                setEmail(props.location.state.email);\n                await axios\n                  .post(\n                    'https://urlshortener-mern.herokuapp.com/api/users/authenticate',\n                    {\n                      token: props.location.state.token,\n                    }\n                  )\n                  .then(async (response) => {\n                    console.log(response.data.auth)\n                    if (!response.data.auth) {\n                      props.history.push('/user/login')\n                    }\n                  })\n                  .catch((error) => console.log(error))\n            }\n            else{\n                props.history.push(\"/user/login\")\n            }\n        }\n        Auth();\n    },[props.location.state,props.history])\n    let handleEvent = async()=>{\n        await axios.post(\"https://urlshortnerbe.herokuapp.com/users/logout\",{\n            email:props.location.state.email\n        }).then(async()=>{\n            props.history.push(\"/home\")\n        })\n    }\n    return<>\n    <h3>Welcome to Password Reset flow {email}</h3>\n    <button className=\"btn btn-danger\" onClick={handleEvent}>Logout</button>\n    </>\n}","import './App.css';\nimport {BrowserRouter as Router,Route,Switch} from \"react-router-dom\";\nimport Home from './components/home';\nimport Login from './components/user/login';\nimport Register from './components/user/register';\nimport Forgot from './components/user/forgot';\nimport Update from './components/user/update';\nimport Dashboard from './components/dashboard';\nfunction App() {\n  return <>\n    <Router>\n      <Switch>\n        <Route path =\"/home\" component={Home}/>\n        <Route path =\"/user/login\" component={Login}/>\n        <Route path =\"/user/register\" component={Register}/>\n        <Route path =\"/user/forgot-password\" component={Forgot}/>\n        <Route path =\"/user/update-password/:token\" component={Update}/>\n        <Route path =\"/dashboard\" component={Dashboard}/>\n        <Route path =\"/\" component={Home}/>\n      </Switch>\n    </Router>\n  </>\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}